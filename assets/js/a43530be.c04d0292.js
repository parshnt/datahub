"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[1812],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>p});var o=a(67294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function r(e,t){if(null==e)return{};var a,o,l=function(e,t){if(null==e)return{};var a,o,l={},n=Object.keys(e);for(o=0;o<n.length;o++)a=n[o],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)a=n[o],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var c=o.createContext({}),d=function(e){var t=o.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},u=function(e){var t=d(e.components);return o.createElement(c.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var a=e.components,l=e.mdxType,n=e.originalType,c=e.parentName,u=r(e,["components","mdxType","originalType","parentName"]),m=d(a),p=l,h=m["".concat(c,".").concat(p)]||m[p]||s[p]||n;return a?o.createElement(h,i(i({ref:t},u),{},{components:a})):o.createElement(h,i({ref:t},u))}));function p(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var n=a.length,i=new Array(n);i[0]=m;var r={};for(var c in t)hasOwnProperty.call(t,c)&&(r[c]=t[c]);r.originalType=e,r.mdxType="string"==typeof e?e:l,i[1]=r;for(var d=2;d<n;d++)i[d]=a[d];return o.createElement.apply(null,i)}return o.createElement.apply(null,a)}m.displayName="MDXCreateElement"},1145:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>s,frontMatter:()=>n,metadata:()=>r,toc:()=>d});var o=a(87462),l=(a(67294),a(3905));const n={title:"Extend data model to model Notebook entity",slug:"/rfc/active/4237-datadoc-entity/datadoc-entity-rfc",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/rfc/active/4237-datadoc-entity/datadoc-entity-rfc.md"},i=void 0,r={unversionedId:"docs/rfc/active/4237-datadoc-entity/datadoc-entity-rfc",id:"docs/rfc/active/4237-datadoc-entity/datadoc-entity-rfc",title:"Extend data model to model Notebook entity",description:"- Start Date: (fill me in with today's date, 2022-02-22)",source:"@site/genDocs/docs/rfc/active/4237-datadoc-entity/datadoc-entity-rfc.md",sourceDirName:"docs/rfc/active/4237-datadoc-entity",slug:"/rfc/active/4237-datadoc-entity/datadoc-entity-rfc",permalink:"/docs/rfc/active/4237-datadoc-entity/datadoc-entity-rfc",draft:!1,editUrl:"https://github.com/datahub-project/datahub/blob/master/docs/rfc/active/4237-datadoc-entity/datadoc-entity-rfc.md",tags:[],version:"current",frontMatter:{title:"Extend data model to model Notebook entity",slug:"/rfc/active/4237-datadoc-entity/datadoc-entity-rfc",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/rfc/active/4237-datadoc-entity/datadoc-entity-rfc.md"},sidebar:"overviewSidebar",previous:{title:"Proposal to Incubate a new React Application",permalink:"/docs/rfc/active/2055-react-app"},next:{title:"RBAC: Fine-grained Access Controls in DataHub",permalink:"/docs/rfc/active/access-control/access-control"}},c={},d=[{value:"Background",id:"background",level:2},{value:"Summary",id:"summary",level:2},{value:"Detailed design",id:"detailed-design",level:2},{value:"DataDoc Model",id:"datadoc-model",level:3},{value:"Notebook Data Model",id:"notebook-data-model",level:3},{value:"Notebook Cells",id:"notebook-cells",level:3},{value:"Future Work",id:"future-work",level:2}],u={toc:d};function s(e){let{components:t,...n}=e;return(0,l.kt)("wrapper",(0,o.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Start Date: (fill me in with today's date, 2022-02-22)"),(0,l.kt)("li",{parentName:"ul"},"RFC PR: ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/datahub-project/datahub/pull/4237"},"https://github.com/datahub-project/datahub/pull/4237")),(0,l.kt)("li",{parentName:"ul"},"Discussion Issue: (GitHub issue this was discussed in before the RFC, if any)"),(0,l.kt)("li",{parentName:"ul"},"Implementation PR(s): (leave this empty)")),(0,l.kt)("h1",{id:"extend-data-model-to-model-notebook-entity"},"Extend data model to model Notebook entity"),(0,l.kt)("h2",{id:"background"},"Background"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://www.querybook.org/"},"Querybook")," is Pinterest\u2019s open-source big data IDE via a notebook interface.\nWe(Included Health) leverage it as our main querying tool. It has a feature, DataDoc, which organizes rich text,\nqueries, and charts into a notebook to easily document analyses. People could work collaboratively with others in a\nDataDoc and get real-time updates. We believe it would be valuable to ingest the DataDoc metadata to Datahub and make\nit easily searchable and discoverable by others."),(0,l.kt)("h2",{id:"summary"},"Summary"),(0,l.kt)("p",null,"This RFC proposes the data model used to model DataDoc entity. It does not talk about any architecture, API or other\nimplementation details. This RFC only includes minimum data model which could meet our initial goal. If the community\ndecides to adopt this new entity, further effort is needed."),(0,l.kt)("h2",{id:"detailed-design"},"Detailed design"),(0,l.kt)("h3",{id:"datadoc-model"},"DataDoc Model"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"DataDoc High Level Model",src:a(2136).Z,width:"251",height:"369"})),(0,l.kt)("p",null,'As shown in the above diagram, DataDoc is a document which contains a list of DataDoc cells. It organizes rich text,\nqueries, and charts into a notebook to easily document analyses. We could see that the DataDoc model is very similar as\nNotebook. DataDoc would be viewed as a subset of Notebook. Therefore we are going to model Notebook rather than DataDoc.\nWe will include "subTypes" aspect to differentiate Notebook and DataDoc'),(0,l.kt)("h3",{id:"notebook-data-model"},"Notebook Data Model"),(0,l.kt)("p",null,"This section talks about the mininum data model of Notebook which could meet our needs."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"notebookKey (keyAspect)",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"notebookTool: The name of the DataDoc tool such as QueryBook, Notebook, and etc"),(0,l.kt)("li",{parentName:"ul"},"notebookId: Unique id for the DataDoc"))),(0,l.kt)("li",{parentName:"ul"},"notebookInfo",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"title(Searchable): The title of this DataDoc"),(0,l.kt)("li",{parentName:"ul"},"description(Searchable): Detailed description about the DataDoc"),(0,l.kt)("li",{parentName:"ul"},"lastModified: Captures information about who created/last modified/deleted this DataDoc and when"))),(0,l.kt)("li",{parentName:"ul"},"notebookContent",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"content: The content of a DataDoc which is composed by a list of DataDocCell"))),(0,l.kt)("li",{parentName:"ul"},"editableDataDocProperties"),(0,l.kt)("li",{parentName:"ul"},"ownership"),(0,l.kt)("li",{parentName:"ul"},"status"),(0,l.kt)("li",{parentName:"ul"},"globalTags"),(0,l.kt)("li",{parentName:"ul"},"institutionalMemory"),(0,l.kt)("li",{parentName:"ul"},"browsePaths"),(0,l.kt)("li",{parentName:"ul"},"domains"),(0,l.kt)("li",{parentName:"ul"},"subTypes"),(0,l.kt)("li",{parentName:"ul"},"dataPlatformInstance"),(0,l.kt)("li",{parentName:"ul"},"glossaryTerms")),(0,l.kt)("h3",{id:"notebook-cells"},"Notebook Cells"),(0,l.kt)("p",null,"Notebook cell is the unit that compose a Notebook. There are three types of cells: Text Cell, Query Cell, Chart Cell. Each\ntype of cell has its own metadata. Since the cell only lives within a Notebook, we model cells as one aspect of Notebook\nrather than another entity. Here are the metadata of each type of cell:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"TextCell",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"cellTitle: Title of the cell"),(0,l.kt)("li",{parentName:"ul"},"cellId: Unique id for the cell."),(0,l.kt)("li",{parentName:"ul"},"lastModified: Captures information about who created/last modified/deleted this Notebook cell and when"),(0,l.kt)("li",{parentName:"ul"},"text: The actual text in a TextCell in a Notebook"))),(0,l.kt)("li",{parentName:"ul"},"QueryCell",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"cellTitle: Title of the cell"),(0,l.kt)("li",{parentName:"ul"},"cellId: Unique id for the cell."),(0,l.kt)("li",{parentName:"ul"},"lastModified: Captures information about who created/last modified/deleted this Notebook cell and when"),(0,l.kt)("li",{parentName:"ul"},"rawQuery: Raw query to explain some specific logic in a Notebook"),(0,l.kt)("li",{parentName:"ul"},"lastExecuted: Captures information about who last executed this query cell and when"))),(0,l.kt)("li",{parentName:"ul"},"ChartCell",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"cellTitle: Title of the cell"),(0,l.kt)("li",{parentName:"ul"},"cellId: Unique id for the cell."),(0,l.kt)("li",{parentName:"ul"},"lastModified: Captures information about who created/last modified/deleted this Notebook cell and when")))),(0,l.kt)("h2",{id:"future-work"},"Future Work"),(0,l.kt)("p",null,"Querybook provides an embeddable feature. We could embed a query tab which utilize the embedded feature in Datahub\nwhich provide a search-and-explore experience to user."))}s.isMDXComponent=!0},2136:(e,t,a)=>{a.d(t,{Z:()=>o});const o=a.p+"assets/images/DataDoc-high-level-model-4e31e4c61b9b8bcec4ff0c3174e06377.png"}}]);